<% layout('layout') %>

<h2>Players</h2>
<button onclick="showForm('playerForm')">Add Player</button>
<div id="playerForm" style="display: none;">
    <h3>Add Player</h3>
    <form id="addPlayerForm">
        <label for="playerName">Player Name:</label>
        <input type="text" id="playerName" name="name" required>
        <label for="playerPosition">Position:</label>
        <input type="text" id="playerPosition" name="position" required>
        <label for="playerTeam">Team ID:</label>
        <input type="number" id="playerTeam" name="team_id" required>
        <button type="submit">Add</button>
    </form>
</div>
<ul id="playersList">
    <% players.forEach(player => { %>
        <li>
            <%= player.name %> - <%= player.position %> (Team ID: <%= player.team_id %>)
            <button onclick="showEditForm(<%= player.id %>, '<%= player.name %>', '<%= player.position %>', <%= player.team_id %>)">Edit</button>
            <button onclick="deletePlayer(<%= player.id %>)">Delete</button>
        </li>
    <% }) %>
</ul>

<script src="/scripts/players.js"></script>
